# Multi-Agent Development Audit and Attribution Analysis
# Based on: GIT-HISTORY-ANALYSIS.md Use Case 3
# Purpose: Track AI-human collaboration patterns and agent contributions

MODEL claude-sonnet-4.5
MODE read-only
MAX-CYCLES 1

CWD ./

PROMPT Analyze git history to understand AI-assisted development patterns.

PROMPT Extract all commits with bot/agent authorship:
PROMPT Look for:
- Author matching "*bot*" or "*agent*"
- Co-authored-by trailers
- Commits with "Transitioned from Plan to Build mode"
- Commits with "Saved progress at the end of the loop"
- Branch names like "copilot/*" or "agent/*"

PROMPT For recent history (last 30 days), generate:

```markdown
# AI-Assisted Development Analysis
Period: [date range]
Repository: $(basename $(git rev-parse --show-toplevel))

## Summary Statistics

### Contribution Breakdown
- Total commits: [count]
- Human-only commits: [count] ([percentage]%)
- AI-assisted commits: [count] ([percentage]%)
- Bot-only commits: [count] ([percentage]%)

### Agent Types Detected
- copilot-swe-agent[bot]: [count] commits
- Other bots: [list]

### Collaboration Patterns
- Co-authored commits: [count]
- Human review of AI commits: [analysis]

## Agent Attribution Analysis

### Commits by Agent

#### copilot-swe-agent[bot]
```
commit: abc123
date: 2024-11-15
message: "Transitioned from Plan to Build mode"
co-authors: bewest <394179+bewest@users.noreply.github.com>
files changed: 12
additions: 3252
deletions: 67
```

### Missing Attribution Metadata
[Commits that appear AI-assisted but lack proper attribution]

Example:
```
commit: def456
message: "Add comprehensive test coverage"
author: bewest
note: Large test file addition (400+ lines), likely AI-assisted but no Co-authored-by
```

## Recommended Attribution Enhancements

### For Future Commits

Add to commit message template:
```
Agent-Model: claude-sonnet-4.5
Agent-Task: test-generation | refactoring | documentation | bug-fix
Human-Review: full-review | spot-check | approved-as-is
Tool-Chain: pytest@8.0.0, coverage@7.0
```

### Example Enhanced Commit Message
```
Add comprehensive test coverage for auth module

- Added 45 new test cases
- Coverage increased from 67% to 94%
- All edge cases now validated

Agent-Model: claude-sonnet-4.5
Agent-Task: test-generation
Human-Review: full-review
Tool-Chain: jest@29.0.0
Co-authored-by: copilot-swe-agent[bot] <198982749+Copilot@users.noreply.github.com>
```

## Agent Effectiveness Analysis

### Quality Metrics
[Based on commits that were later reverted, fixed, or modified]

- AI commits requiring fixes: [count/percentage]
- AI commits unchanged after 30 days: [count/percentage]
- Average lines per AI commit: [number]
- Average lines per human commit: [number]

### Task Specialization

What agents do well:
- Test generation: [assessment based on evidence]
- Documentation: [assessment]
- Refactoring: [assessment]
- Bug fixes: [assessment]

Areas needing human oversight:
- [List based on revert patterns]

## Workflow Recommendations

### 1. Standardize Agent Metadata
Implement commit-msg hook to validate agent attribution

### 2. Track Agent Versions
Log which AI model version for reproducibility and quality tracking

### 3. Review Coverage Tracking
Ensure all AI-generated code receives appropriate human review

### 4. Documentation
Maintain agent collaboration guidelines in CONTRIBUTING.md

---
Generated by: GitHub Copilot CLI
Analysis-Date: $(date -Iseconds)
```

PROMPT Include specific commit SHAs as examples.
PROMPT Identify patterns in how AI and human contributions are integrated.
