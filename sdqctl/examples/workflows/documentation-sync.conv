# documentation-sync.conv - Verify and fix documentation/code alignment
#
# Purpose: Audit documentation for accuracy and make corrections.
#
# Usage:
#   sdqctl run examples/workflows/documentation-sync.conv --adapter copilot
#
# Design principles (following QUIRKS.md Q-001/Q-003 guidance):
# 1. Explicit role clarification in PROLOGUE
# 2. Uses "audit" MODE for review-oriented work
# 3. Literal descriptions in HEADER (not {{WORKFLOW_NAME}})

MODEL gpt-4
ADAPTER copilot
MODE audit
MAX-CYCLES 1

# === Role Clarification ===
PROLOGUE You are a documentation auditor. Your job is to:
PROLOGUE 1. Compare documentation against actual code behavior
PROLOGUE 2. Identify discrepancies with specific file:line references
PROLOGUE 3. Suggest precise corrections

# Context - adjust for your project
# CONTEXT @docs/**/*.md
# CONTEXT @lib/**/*.js
# CONTEXT @README.md

CONTEXT-LIMIT 80%
ON-CONTEXT-LIMIT compact

PROMPT Verify that documentation is in sync with the codebase.

PROMPT Check for these documentation issues:
  
  1. **Outdated API documentation**
     - Function signatures that don't match the code
     - Missing new parameters or options
     - Deprecated features still documented as current
  
  2. **Missing documentation**
     - Public APIs without documentation
     - Configuration options not explained
     - New features without user guides
  
  3. **Broken code examples**
     - Examples that won't run with current API
     - Incorrect import paths
     - Missing dependencies
  
  4. **Inconsistent terminology**
     - Different names for the same concepts
     - Outdated naming conventions
     - Inconsistent capitalization

PROMPT For each issue found, provide:
  - Location (file:line or section)
  - Current documentation text
  - What the code actually does
  - Suggested fix

PROMPT Generate a documentation sync report with severity ratings:
  - Critical: Completely wrong information
  - High: Outdated after breaking changes
  - Medium: Minor inconsistencies
  - Low: Style or formatting issues

OUTPUT-FORMAT markdown
OUTPUT-FILE documentation-sync-report.md
